<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

	<h:body>
	<ui:composition template="resources/templates/template.xhtml">
		<ui:define name="header">
	    <div id="nav" style="height:15%">
	        <div id="navContent">
	            <h1>TimeLink</h1>
	            <ul id="navList">
	                <li><a href="home.xhtml">Home</a></li>
	                <li><a href="timesheet.xhtml">Timesheet</a></li>
	                <li><a href="projcreation.xhtml">Create Project</a></li>
	                <li><a href="assignemp.xhtml">Manage Project</a></li>
	                <h:panelGroup rendered="#{Session.approver}">
	                	<li><a href="report.xhtml">Report</a></li>
	                </h:panelGroup>
	                <h:panelGroup rendered="#{Session.projectManager || Session.projectManagerAssistant}">
	                	<li><a href="projectplanning.xhtml">Enter Project Planning Information</a></li>
	                </h:panelGroup>
	                <li><h:form><h:commandLink value="Logout" action="#{Session.endSession}"/></h:form></li>
	            </ul>
	        </div>
	    </div>
	    </ui:define>
	    <ui:define name="content">
	    <h:form id="approverForm">
		    <p:dataTable id="approveTable" var="row" value="#{ApproverController.list}">
		        <p:column headerText="Date" >
		            <!-- DATE COLUMN -->
		            #{row.date}
		        </p:column>
		        <p:column headerText="EmployeeId">
		            <!-- EmployeeID COLUMN -->
		            #{row.employeeId}
		        </p:column>
		        <p:column headerText="Total Hours">
		            <!-- TotalHours COLUMN -->
		            #{row.totalHours}
		        </p:column>
		        <p:column headerText="Overtime">
		            <!-- Overtime COLUMN -->
		            #{row.overtime}
		        </p:column>
		        <p:column headerText="Flextime">
		            <!-- FlexTime COLUMN -->
		            #{row.flextime}
		        </p:column>
		        <!-- 
		        <p:selectOneMenu value="#{row.projectId}" style="width:100%">
		                            <p:ajax event="itemSelect" oncomplete="onCellEdit()" />
		                            <f:selectItem itemLabel="" itemValue="#{0}"/>
	                                <f:selectItems value="#{ProjectManager.findByEmpId(Session.getCurrentEmployee().employeeId) != null ? ProjectManager.findByEmpId(Session.getCurrentEmployee().employeeId) : null}" var="pro" itemLabel="#{pro.projectName}" itemValue="#{pro.projectNumber}" />
	                            </p:selectOneMenu>
		         -->
		         <p:column headerText="Status">
		            #{row.status}
		        </p:column>
		        <p:column headerText="Change Status" editable="true">
		            <!-- FlexTime COLUMN -->
			            <p:selectOneMenu value="#{row.status}" style="width:100%">
			                <f:selectItem itemLabel="Not submitted" itemValue="#{0}" />
			                <f:selectItem itemLabel="Waiting for approval" itemValue="#{1}" />
			                <f:selectItem itemLabel="Approved" itemValue="#{2}" />
			                <f:selectItem itemLabel="Rejected" itemValue="#{3}" />
			            </p:selectOneMenu>
		        </p:column>
		    </p:dataTable>
		    <p:commandButton value="Save" action="#{ApproverController.save}" ajax="false" />
	    </h:form>
	    <!-- Once the Timesheet table is figured out on Timesheet
	         you can just paste it here, will require more CSS to look properly though -->
		</ui:define>
		<ui:define name="footer">
			#Feeterhere
		</ui:define>
	</ui:composition>
	</h:body>
</html>